# 面试常见题型总结

# Java面试题

## **java基础**

### 字符串

1. new String()，一共创建了几个对象？

   两个，在常量池中"abc"一个，new对象堆中一个

2. String 和 StringBuffer、StringBuilder 的区别是什么？String 为什么是不可变的？

   - 是否可变

   - 是否线程安全

   - 可以缓存 hash 值，因为 String 的 hash 值经常被使用

     String Pool 的需要

     String 经常作为参数，String 不可变性可以保证参数不可变。

### Object

1. Object类中常见的方法，为什么wait notify会放在Object里边？

   ​

2. 序列化和反序列化的底层实现原理？

   writeObject,readObject;

   实现了 Serializable 或 Externalizable 接口的类的对象才能被序列化，否则抛出异常

3. hashCode和equals方法的区别和联系？

   hasCode() 返回散列值，而 equals() 是用来判断两个实例是否等价。

   覆盖 equals() 方法时应当总是覆盖 hashCode() 方法，保证相等的两个实例散列值也等价。

4. 浅拷贝和深拷贝的区别？

   浅拷贝：所有变量都含有与原来的对象相同的值，其他对象的引用仍然指向原来的对象

   深拷贝：基本数据类型值传递，引用数据类型，创建一个新的对象，并复制其内容

5. 自动装箱与拆箱

   基本类型与对应的引用类型转换

   语法编译：Integer i = Integer.valueOf(100); int t = i.intValue();

6. == 与 equals

   基本类型，== 判断两个值是否相等，基本类型没有 equals() 方法。

   引用类型，== 判断两个实例是否引用同一个对象，而 equals() 判断引用的对象是否等价

7. final 关键字

   数据：基本类型，final 使数值不变，引用类型，final 使引用不变

   方法：方法不能被子类覆盖，private 方法隐式指定为 final

   类：不允许被继承

8. 反射的作用与实现原理？

   在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性；框架设计

   每个类都有一个 Class对象，包含了与类有关的信息。当编译一个新类时，会产生一个同名的 .class 文件，该文件内容保存着 Class 对象。类加载相当于 Class 对象的加载。类在第一次使用时才动态加载到 JVM 中，可以使用 Class.forName("com.mysql.jdbc.Driver") 这种方式来控制类的加载，该方法会返回一个 Class 对象。

9. 重载和重写的区别？

   重载：一个类中，

   重写：发生在父子类中，方法名、参数相同，返回值<=父类，抛出异常<=父类，访问修饰符>=父类

10. Java 中的异常处理

   Throwable： 有两个重要的子类：Exception（异常） 和 Error（错误）

   Exception重要的子类  RuntimeException 由Java虚拟机抛出

   异常能被程序本身可以处理，错误是无法处理

11. 获取用键盘输入常用的的两种方法

   Scanner

   字符流

12. 接口和抽象类的区别是什么

   接口的方法默认是public，除了JDK1.8后，default方法；抽象类可以有非抽象的方法

   接口中的实例变量默认是final类型的，而抽象类中则不一定

   一个类可以实现多个接口，但最多只能继承一个抽象类，接口可以继承多接口

   一个类实现接口的话要实现接口的所有方法，而抽象类不一定

   接口不能用new实例化，但可以声明，但是必须引用一个实现该接口的对象 从设计层面来说，抽象是对类的抽		象，接口是行为的抽象。

### 数据结构

1. 链表与数组？

2. 队列和栈，出栈与入栈？

3. 链表的删除、插入、反向？

   反向：

   ```
   //核心原理是对对象的引用进行操作
   private static Node reserverNodeList(Node node){
   	Node returnNode = null;
   	while(node !=null){
   		Node preNode = node.getNext();
   		node.setNext(returnNode);
   		returnNode = node;
   		node = preNode;
   	}
   	return returnNode;
   }
   ```

4. Hash表的hash函数，冲突解决方法有哪些？

   拉链法： HashMap基本上就是用拉链法实现

   线性探测：数组来存储数据，不冲突，则直接填入数组；若冲突，则使`hashValue++`，也就是往后找，直到找到第一个`data[hashValue]`为空的情况

### 算法

1. Java提供的排序算法是怎么实现的？

   Arrays.sort: 如果数组长度大于等于286且连续性好的话，就用归并排序，如果大于等于286且连续性不好的话就用双轴快速排序。如果长度小于286且大于等于47的话就用双轴快速排序，如果长度小于47的话就用插入排序。

   Collections.sort: LegacyMergeSort.userRequested为true的话就会使用归并排序，不为true的话就会用TimSort的排序算法( 结合合并排序（merge sort）和插入排序（insertion sort）)

2. 各种排序：冒泡、选择、插入、希尔、归并、快排、堆俳、桶排、基数的原理、平均时间复杂度、最坏时间复杂度、空间复杂度、是否稳定？

   |    算法    | 稳定性  |      时间复杂度      | 空间复杂度 |      备注      |
   | :------: | :--: | :-------------: | :---: | :----------: |
   |   选择排序   |  ×   |       N2        |   1   |              |
   |   冒泡排序   |  √   |       N2        |   1   |              |
   |   插入排序   |  √   |     N ~ N2      |   1   | 时间复杂度和初始顺序有关 |
   |   希尔排序   |  ×   | N 的若干倍乘于递增序列的长度 |   1   |   改进版插入排序    |
   |   快速排序   |  ×   |      NlogN      | logN  |              |
   | 三向切分快速排序 |  ×   |    N ~ NlogN    | logN  |  适用于有大量重复主键  |
   |   归并排序   |  √   |      NlogN      |   N   |              |
   |   堆排序    |  ×   |      NlogN      |   1   |  无法利用局部性原理   |

3. 对冒泡与快排的改进？

   冒泡：没有发生交换，就说明数组已经是有序的，此时可以直接退出

   快排：切换到插入排序；三数取中：取 3 个元素，并将大小居中的元素作为切分元素；大量重复元素的数组，切分小于、等于和大于切分元素

4. 二分查找，与变种二分查找？

5. 二叉树、B+树、AVL树、红黑树、哈夫曼树？

   ​

6. 二叉树的前中后续遍历：递归与非递归写法，层序遍历算法？

7. KMP算法？

8. 排列组合问题？

9. 贪心算法、分治算法？

### 集合

1. Arraylist 与 LinkedList 异同？与 Vector 区别

   保证线程安全；底层数据结构；插入和删除是否受元素位置的影响；是否支持快速随机访问；内存空间占用

   Vector类的所有方法都是同步的；一个线程访问Vector的话代码要在同步操作上耗费大量的时间。

2. HashMap的底层实现

   数组和链表/红黑树；key 的 hashCode 经过扰动函数得到 hash 值，然后通过 (n - 1) & hash 判断当前元素存放的位置

3. HashMap 和 Hashtable 的区别

   线程是否安全；效率对Null key 和Null value的支持；初始容量大小和每次扩充容量大小的不同；底层数据结构；

   快速失败；

4. HashMap 的长度为什么是2的幂次方？默认空间、扩容因子等？

   hash%length==hash&(length-1)的前提是 length 是2的 n 次方；&提高运算效率

   默认空间16，扩容因子0.75

5. HashMap 多线程操作导致死循环问题

   A线程和B线程同时对同一个数组位置调用addEntry ，写操作覆盖

   多个线程同时对Node数组进行扩容

   底层table扩容时还可能形成环状链表，造成死循环

6. HashSet 和 HashMap 区别

   HashSet 底层就是基于 HashMap 实现的；

7. ConcurrentHashMap 和 Hashtable 的区别

   底层数据结构：ConcurrentHashMap 是数组+链表/红黑二叉树；实现线程安全的方式：1.7分段锁；Node 数组+链表+红黑树的数据结构来实现，并发控制使用 synchronized 和 CAS 来操作。

8. ConcurrentHashMap线程安全的具体实现方式/底层具体实现

9. HashMap1.7和1.8的实现区別？

   扰动函数；当链表长度大于阈值（默认为8）时，将链表转化为红黑树，以减少搜索时间。

10. HashMap中插入、添加、删除除元素的时间复杂度？

   查找：链表查找的时间复杂度为O(n)，hash算法尽量减少冲突，才能使链表长度尽可能短，理想状态为1；

11. 若hashcode方法永远退回1或者一个常量会产生什么结果？

   equal()方法依据之一，底层实现依赖hashcode

## **多线程**

### Synchronized



1. Java中Synchronized关键字的内存语义是什么？
2. 说说synchronized实现原理（对象监视器）？
3. 说一说自己对于 synchronized 关键字的了解
4. 说说自己是怎么使用 synchronized 关键字，在项目中用到了吗
5. 讲一下 synchronized 关键字的底层原理
6. 说说 JDK1.6 之后的synchronized 关键字底层做了哪些优化，可以详细介绍一下这些优化吗
7. 谈谈 synchronized和ReenTrantLock 的区别
8. 说说 synchronized 关键字和 volatile 关键字的区别

### volatile

1. volatile实现原理（禁止指令重排、刷新内存）？

2. Java中Volatile关键字的内存语义是什么？

   volatile保证可见性；volatile 通过添加内存屏障禁止指令重排，即重排序时不能把后面的指令放到内存屏障之前。

### ThreadLocal

1. ThreadLocal原理分析，ThreadLocal为什么会出现OOM，出现的深层次原理？

   OOM:每个线程中都有`ThreadLocalMap`数据结构，Entry是继承WeakReference，ThreadLocal在没有外部强引用时，发生GC时会被回收，如果创建ThreadLocal的线程一直持续运行，那么这个Entry对象中的value就有可能一直得不到回收，发生内存泄露。

   调用remove方法，肯定会删除对应的Entry对象。避免内存泄漏

2. 讲讲ThreadLocal 的实现原理？作为变量的线程隔离方式，其内部是如何做的？

   为变量在每个线程中都创建了一个副本，所以每个线程可以访问自己内部的副本变量，不同线程之间不会互相干扰。每个线程中都有一个`ThreadLocalMap`数据结构，类似HashMap，继承WeakReference

3. 说说InheritableThreadLocal 的实现原理？

4. InheritableThreadLocal 是如何弥补 ThreadLocal 不支持继承的特性？

5. CyclicBarrier内部的实现与 CountDownLatch 有何不同？

   控制多个线程互相等待，只有当多个线程都到达时，这些线程才会继续执行。CyclicBarrier 的计数器通过调用 reset() 方法可以循环使用，barrierAction 在所有线程都到达屏障的时候，系统会执行一次。

6. 随机数生成器 Random 类如何使用 CAS 算法保证多线程下新种子的唯一性？

   Random 使用 AtomicLong CAS （compare-and-set）操作来更新它的seed

7. Spring 框架中如何使用 ThreadLocal 实现 request scope 作用域 Bean？

8. ThreadLocalRandom 是如何利用 ThreadLocal 的原理来解决 Random 的局限性？

   ThreadLocalRandom：使用一个普通的 long作为seed；使用它的静态工厂创建ThreadLocalRandom；CPU缓存感知式的，使用8个 long 虚拟域来填充64位L1高速缓存行。

### 锁

1. 偏向锁、轻量级锁、重量级锁、自旋锁的概念？

   偏向锁：让第一个获取锁对象的线程，之后获取该锁就不再需要进行同步操作，甚至 CAS 操作也不再需要。

   轻量级锁：使用 CAS 操作来避免重量级锁使用互斥量的开销，如果失败改用互斥量进行同步。

   重量级锁：对象监视器(Monitor)，包含一个竞争锁的队列和一个信号阻塞队列，前者负责做互斥，后一个用于做线程同步。

   自旋锁：互斥同步进入阻塞状态的开销都很大，共享数据的锁定状态只会持续很短的一段时间。让一个线程在请求共享数据的锁时执行忙循环（自旋）一段时间，如果在这段时间内能获得锁，可以避免进入阻塞状态。

2. 什么是可重入锁、乐观锁、悲观锁、公平锁、非公平锁、独占锁、共享锁？

   乐观锁：每次不加锁而是假设没有冲突而去完成某项操作，如果因为冲突失败就重试，直到成功为止。乐观锁实现的机制就是 CAS 操作。

   公平锁：请求锁的顺序来获取锁

   读写锁：一个读锁和一个写锁

   独占锁：其他线程只能依靠阻塞来等待线程释放锁。

3. 一个线程连着调用start两次会出现什么情況？

   threadStatus标志位是volatile修饰的，标志位判断标记，会抛出异常

4. 为什么要用线程池？线程池的实现？

   管理多个异步任务的执行；重用存在的线程，减少对象创建、消亡的开销；有效控制最大并发线程数，提高系统资源的使用率，同时避免过多资源竞争，避免堵塞；提供定时执行、定期执行、单线程、并发数控制

5. 重要参数及原理？

   corePoolSize；maximumPoolSize；keepAliveTime；workQueue；handler

6. 说说四种线程池？

   CachedThreadPool；FixedThreadPool；SingleThreadExecutor；ScheduledThreadPool

7. 任务拒接策略有哪几种？

   handler：AbortPolicy：直接抛出异常，默认策略；CallerRunsPolicy：用调用者所在的线程来执行任务；DiscardOldestPolicy：丢弃阻塞队列中靠最前的任务，并执行当前任务；DiscardPolicy：直接丢弃任务；

8. 线程状态以及API怎么操作会发生这种转换？

9. 什么是多线程并发和并行？

10. 什么是线程安全问题？

11. 什么是共享变量的内存可见性问题？

12. 什么是Java指令重排序？

13. 什么是伪共享,为何会出现，以及如何避免？

14. 实现Runnable接口和Callable接口的区别

    是否有返回值

15. 执行execute()方法和submit()方法的区别是什么呢？

      execute不能获取返回值，submit可以获取任务执行完的返回值

### 阻塞队列

1. 谈下对基于链表的非阻塞无界队列 ConcurrentLinkedQueue 原理的理解？

   高效的并发队列，使用链表实现

2. ConcurrentLinkedQueue 内部是如何使用 CAS 非阻塞算法来保证多线程下入队出队操作的线程安全？

3. 基于链表的阻塞队列 LinkedBlockingQueue 原理。

4. 阻塞队列LinkedBlockingQueue 内部是如何使用两个独占锁 ReentrantLock 以及对应的条件变量保证多线程先入队出队操作的线程安全？

### J .U .C

1. 并发组件CopyOnWriteArrayList 是如何通过写时拷贝实现并发安全的 List？

2. AQS 原理;AQS 对资源的共享方式？AQS同步队列是什么？

   一个基于 FIFO 队列，构建锁或者其他相关的同步装置的基础框架，给我们实现锁的**框架**

   独占模式；共享模式；同步队列：双向列表，int成员变量表示同步状态

3. 介绍一下Atomic 原子类;JUC 包中的原子类是哪4类?

   基本类型、数组、引用、属性

4. 讲讲 AtomicInteger 的使用;介绍一下 AtomicInteger 类的原理

   调用了 Unsafe 类的 CAS 操作

5. 分析下JUC 中倒数计数器 CountDownLatch 的使用与原理？

6. CountDownLatch 与线程的 Join 方法区别是什么？

7. 讲讲对JUC 中回环屏障 CyclicBarrier 的使用？

8. CyclicBarrier内部的实现与 CountDownLatch 有何不同？

9. Semaphore 的内部实现是怎样的？

   类似于操作系统中的信号量，可以控制对互斥资源的访问线程数

10. 并发包中锁的实现底层（对AQS的理解）？

11. 讲讲独占锁 ReentrantLock 原理？

12. 谈谈读写锁 ReentrantReadWriteLock 原理？

13. StampedLock 锁原理的理解？

   Java8 读写锁的一个改进版本。读写锁使用的是悲观锁策略。StampedLock基于CLH锁，是一种自旋锁，并且可以保证FIFO的服务顺序。

14. CAS无锁的概念

   CAS 指令需要有 3 个操作数，分别是内存地址 V、旧的预期值 A 和新值 B。当执行操作时，只有当 V 的值等于 A，才将 V 的值更新为 B。Unsafe是CAS的核心类，封装了一些类似指针的操作。该方法为本地方法，有四个参数，分别代表：对象、对象的地址、预期值、修改值。

15. 什么是ABA问题，出现ABA问题JDK是如何解决的？

   一个值原来是A，变成了B，然后又变成了A，那么在CAS检查的时候会发现没有改变。

   在每个变量都加上一个版本号

16. 常见的原子操作类？

17. 什么是Java中原子性操作？

18. 什么是Java中的CAS操作,AtomicLong实现原理？

## **JVM**

### 内存

1. JVM运行时内存区域划分？说说各个区域的作用？

   线程：程序计数器：记录正在执行的虚拟机字节码指令的地址；虚拟机栈：存储局部变量表、操作数栈、动态链接、方法出口信息、常量池引用等信息；本地方法栈：JNI接口为本地方法服务；

   堆：存放对象实例，方法区(常量池)：类信息、常量、静态变量，直接内存

2. 什么是强引用、软引用、裝引用、虚引用？

   强引用对象不会被回收；软引用在内存不够的情况下才会被回收；弱引用只能存活到下一次垃圾回收发生之前；一个对象是否有虚引用的存在，完全不会对其生存时间构成影响，这个对象被回收时收到一个系统通知。

3. Java中的大対象如何进行存储？

4. 为什么新生代内存需要有两个Survivor区？

5. Java 堆的结构是什么样子的？

   新生代；Eden空间、From Survivor、To Survivor空间；老年代；

6. 什么是堆中的永久代（Perm Gen space）?

7. Java 中会存在内存泄漏吗，简述一下？

### 垃圾回收

1. 什么是分布式垃圾回收（DGC）？它是如何工作的？

2. Minor GC与Full GC分别在什么时候发生？对象什么时候可以被垃圾回收？

   Minor GC： eden 区没有足够空间进行分配时，空间分配担保

   Full GC：System.gc()，老年代空间不足，空间分配担保失败，Concurrent Mode Failure

3. 简述Minor GC 和 Full GC？

   Minor GC：发生在新生代上，当 Eden 区空间不够时，发起 Minor GC；Full GC：发生在老年代上，执行速度慢；

4. System.gc() 和 Runtime.gc() 会做些什么？

5. 什么是GC调优？

6. 垃圾回收常见问题

7. 常见的GC回收算法及其含义？为什么要有 GC？

   标记 - 清除，标记 - 整理，复制，分代收集；新生代使用：复制算法；老年代使用：标记 - 清除 或者 标记 - 整理 算法

8. 简述一下Java 垃圾回收机制？

9. 垃圾回收的优点和原理，并考虑 2 种回收机制？

10. 垃圾回收器的基本原理是什么？

11. 垃圾回收器可以马上回收内存吗？有什么办法主动通知虚拟机进行垃圾回收？

12. 串行（serial）收集器和吞吐量（throughput）收集器的区别是什么？

### 类加载

1. 什么是tomcat类加载机制？

2. Java 类加载过程？

   主动引用： new；反射调用；父类没有进行初始化；加载；验证；准备；解析；初始化

3. 描述一下 JVM 加载 Class 文件的原理机制?

4. 什么是类加载器？类加载器有哪些？

   两个对象相等需要类本身相等，并且使用同一个类加载器进行加载。启动类加载器；扩展类加载器；应用程序类加载器；自定义类加载器

5. 什么是双亲委派模型机制？

   除了顶层的启动类加载器外，其余的类加载器都应有自己的父类加载器。

### 性能

1. 讲讲你理解的性能评价及测试指标？
2. 常用的性能优化方式有哪些？
3. 描述一下 JVM 加载 Class 文件的原理机制?

## 设计模式

1. 单例模式

   ​

2. 动态代理

3. 工厂模式

4. 责任链模式

## MySQL

### 引擎与优化

1. MySQL常见的存储引擎以及他们之间的区别？

   InnoDB 是事务型的,还支持行级锁，支持外键，在线热备份。

   MyISAM 只支持表级锁,支持压缩表和空间数据索引。

2. MySQL常用优化方式有哪些？

3. 常见的数据库优化方案，在你的项目中数据库如何进行优化的？

4. 什么是redo日志，什么是undo日志？

5. 表结构对性能有什么影响?

6. 浅谈索引优化？

7. 说说Sql优化的几点原则？

8. MySQL表设计及规范？

   三大范式：每一列必须是不可拆分的最小单元；所有列，都必须依赖于主键；每一列只与主键直接相关而不是间接相关

9. MySQL常用监控？

10. MySQL瓶颈分析？

11. 查询优化的基本思路是什么？

### 索引

1. MySQL索引为什么使用B+树？

   与红黑树的比较，更少的查找次数，利用磁盘预读特性

2. MySQL覆盖索引是什么？

3. MySQL索引失效的条件，索引在什么时候不会起效果？

4. 对比一下B+树索引和 Hash索引？

   不再需要进行全表扫描，只需要对树进行搜索即可，可以用于排序和分组。

   只支持精确查找，无法用于部分查找和范围查找；无法用于排序与分组；

5. MySQL索引类型有？

   B+Tree；自适应哈希

6. 如何管理 MySQL索引？

7. 索引利弊是什么及索引分类？

8. 聚簇索引和非聚簇索引的区别？

   聚簇：表数据按照索引的顺序来存储；非聚簇：表数据存储顺序与索引顺序无关

9. B+tree 如何进行优化？索引遵循哪些原则？

   独立的列；多列索引；索引列的顺序；前缀索引覆盖索引

10. 索引与锁有什么关系？

11. 还有什么其他的索引类型，各自索引有哪些优缺点？

      B+Tree 索引；哈希索引；全文索引；空间数据索引

12. 什么是explain命令？

      Explain 用来分析 SELECT 查询语句，优化查询语句

13. 对Explain参数及重要参数的理解？

      select_type : 查询类型，有简单查询、联合查询、子查询等；key : 使用的索引；rows : 扫描的行数

### 事务

1. MySQL遇到的死锁问题、如何排查与解决？

2. 说说数据库事务特点及潜在问题？

3. 什么是MySQL隔离级别？

   未提交读；提交读；可重复读；可串行化

4. 有多少种事务失效的场景，如何解决？

5. 一致性非锁定读和一致性锁定读是什么？

6. Innodb如何解决幻读？

   在可重复读（REPEATABLE READ）隔离级别下，使用 MVCC + Next-Key Locks 可以解决幻读问题。

7. 讲讲Innodb行锁？

   写锁，读锁

8. 死锁及监控是什么？

9. 自增长与锁 ，锁的算法，锁问题，锁升级是什么？

10. 乐观锁的线程如何做失败补偿？

11. 高并发场景（领红包）如何防止死锁，保证数据一致性？

12. 谈谈MySQL的锁并发？

### 存储

1. Float、Decimal 存储金额的区别？

   decimal 类型可以精确地表示非常大或非常精确的小数，float是浮点数，不能指定小数位。

2. Datetime、Timestamp 存储时间的区别？

   存储范围和存储方式不一样；Datetime：不做任何改变；Timestamp ：转化为UTC进行存储

3. Char、Varchar、Varbinary 存储字符的区别？

   定长和变长存储的容量不同

4. 说说MySQL读写分离、分库分表？
   主从复制：一个主库，挂多个从库，只是写主库，然后主库会自动把数据给同步到从库上去。binlog 线程、I/O 线程和 SQL 线程。

   读写分离：主服务器处理写操作以及实时性要求比较高的读操作，而从服务器处理读操作。

   分库分表：单表数据量太大分表；高并发分库

## Spring

### 代理

1. 为什么需要代理模式？动态代理？

   JDK的动态代理；cglib动态代理：JDK动态代理只能对实现了接口的类生成代理，不需要以来第三方的库

   ；cglib是针对类实现代理，对象的性能高，在创建代理对象时所花费的时间却比JDK多得多

2. 讲讲静态代理模式的优点及其瓶颈？

3. 谈谈对Cglib 类增强动态代理的实现？JDK 动态代理的实现？

   - CGLibProxy返回的动态代理类，则是目标代理类的一个子类（代理类扩展了UserDaoImpl类）
   - cglib继承被代理的类，重写方法，织入通知，动态生成字节码并运行
   - JDK内置的Proxy动态代理可以在运行时动态生成字节码，而没必要针对每个类编写代理类
   - JDKProxy返回动态代理类，是目标类所实现接口的另一个实现版本，它实现了对目标类的代理（如同UserDAOProxy与UserDAOImp的关系）

4. 什么是 AOP？

   面向切面编程，扩展功能不是修改源代码实现，比如日志，事务，权限等待

5. 什么是 IOC？

   控制反转，把对象的创建不是通过new方式实现，而是交给Spring配置创建类对象

6. 怎么理解面向切面编程的切面？

   **Joinpoint（连接点）** 类里面可以被增强的方法，这些方法称为连接点**Pointcut（切入点）** 所谓切入点是指我们要对哪些Joinpoint进行拦截的定义**Advice（通知/增强）** 所谓通知是指拦截到Joinpoint之后所要做的事情就是通知.通知分为前置通知，后置通知，异常通知，最终通知，环绕通知（切面要完成的功能）**Aspect（切面）** 是切入点和通知（引介）的结合

7. 讲解OOP与AOP的简单对比？

   面向切面编程（aop）是对面向对象编程（oop）的补充

8. Spring IOC 怎么管理 Bean 之间的依赖关系，怎么避免循环依赖？

9. 对Java 接口代理模式的实现原理的理解？指定增强？

10. 讲解Spring 框架中基于 Schema 的 AOP 实现原理？

11. 讲解Spring 框架中如何基于 AOP 实现的事务管理？

### IOC 

1. 怎么理解 Spring IOC 容器？
2. Spring IOC 怎么管理 Bean 之间的依赖关系，怎么避免循环依赖？
3. 对Spring IOC 容器的依赖注入的理解？
4. 说说对Spring IOC 的单例模式和高级特性？

### Bean

1. BeanFactory 和 FactoryBean 有什么区别？

   所有的Bean都是由BeanFactory来进行管理的，提供了实例化对象和拿对象的功能。

   FactoryBean是个能生产或者修饰对象生成的工厂Bean

2. BeanFactory 和 ApplicationContext 又有什么不同？

   在启动的时候不会去实例化Bean，中有从容器中拿Bean的时候才会去实例化；ApplicationContext 启动时全部实例化

3. Spring 在 Bean 创建过程中是如何解决循环依赖的？

4. 谈谈Spring Bean 创建过程中的设计模式？

   代理模式—在AOP和remoting中被用的比较多。单例模式—在spring配置文件中定义的bean默认为单例模式。

   模板方法—用来解决代码重复的问题。比如. RestTemplate, JmsTemplate, JpaTemplate。工厂模式—BeanFactory用来创建对象的实例。观察者– spring 时间驱动模型

## **分布式数据库**

1. 说说常见的几种分布式ID的设计方案？

2. 如何解决分布式下的分库分表，全局表？

3. 如何拆分服务、水平分割、垂直分割？

   水平分割：同一个表中的记录拆分到多个结构相同的表中。垂直分割：将一张表按列切分成多个表

## **分布式设计**

1. 什么是CAP定理？
2. 说说CAP理论和BASE理论？
3. 什么是最终一致性？最终一致性实现方式？
4. 什么是一致性Hash？
5. 讲讲分布式事务？
6. 如何实现分布式锁？
7. 如何实现分布式 Session?
8. 如何保证消息的一致性?
9. 负载均衡的理解？
10. 正向代理和反向代理？
11. CDN实现原理？
12. 怎么提升系统的QPS和吞吐？
13. Dubbo的底层实现原理和机制？
14. 描述一个服务从发布到被消费的详细过程？
15. 分布式系统怎么做服务治理？
16. 消息中间件如何解决消息丢失问题？
17. Dubbo的服务请求失败怎么处理？
18. 对分布式事务的理解？
19. 如何实现负载均衡,有哪些算法可以实现?
20. Zookeeper的用途,选举的原理是什么?
21. 讲讲数据的垂直拆分水平拆分？
22. zookeeper原理和适用场景？
23. zookeeper watch机制？
24. redis/zk节点宕机如何处理？
25. 分布式集群下如何做到唯一序列号？
26. 用过哪些MQ,怎么用的,和其他mq比较有什么优缺点,MQ的连接是线程安全的吗？
27. MQ系统的数据如何保证不丢失？
28. 列举出能想到的数据库分库分表策略？

## Redis

### 数据结构

1. Redis中zSet跳跃表问题？
2. redis 常见数据结构以及使用场景分析？（String，Hash，List，Set，Sorted Set）

### 事务

1. 说说Redis持久化机制? 优缺点是什么，怎么实现的？
2. 说说Redis常见的回收策略？
3. Hash—致性算法?
4. Redis和数据库数据一致性的问题？
5. Redis集群，高可用，原理？
6. redis队列应用场景？
7. redis 设置过期时间
8. redis 持久化机制（怎么保证 redis 挂掉之后再重启数据可以进行恢复）？
9. redis 事务
10. 如何解决 Redis 的并发竞争 Key 问题
11. Redis的并发竞争问题如何解决？

### 缓存

1. 什么缓存雪崩、缓存穿透、缓存预热、缓存更新、缓存降级？缓存雪崩和缓存穿透问题解决方案？
2. Redis的缓存失效策略？
3. Redis缓存分片？
4. Redis的数据淘汰策略？
5. redis 和 memcached 的区别？
6. redis 内存淘汰机制（MySQL里有2000w数据，Redis中只存20w的数据，如何保证Redis中的数据都是热点数据？）
7. 缓存一致性和hash冲突
8. 为什么要用 redis缓存？
9. Redis为什么是单线程的？
10. 为什么要用 redis 而不用 map/guava 做缓存?
11. 如何保证缓存与数据库双写时的数据一致性？

### 分布式

1. 如何使用Redis来实现分布式锁？
2. 分布式使用场景（储存session）？

## Nignx

1. 解释什么是C10K问题或者知道什么是C10K问题吗？
2. 正向代理和反向代理？
3. Nginx几种常见的负载均衡策略？
4. Nginx服务器上的Master和Worker进程分别是什么？

## Zookeeper

1. 什么是Zookeeper通知机制？
2. Zookeeper集群管理（文件系统、通知机制）
3. 讲讲Zookeeper分布式锁？
4. 获取分布式锁的流程
5. Zookeeper数据复制？
6. zookeeper是如何保证事务的顺序一致性的？
7. zookeeper是如何选取主leader的？
8. zk节点宕机如何处理？
9. zookeeper负载均衡和nginx负载均衡区别？
10. 说说zookeeper watch机制？

## **消息队列问题及集群分布式**

1. 消息队列使用的场景介绍和作用（应用耦合、异步消息，流量削锋等）
2. 如何解决消息队列丢失消息和重复消费问题？
3. 什么是CAP、Base？
4. 说说最终一致性理论？
5. 什么是RPC、如何实现RPC、RPC的实现原理？
6. 集群Session解决方案？
7. 分布式事务？
8. 说说三种分布式锁的实现？
9. 集群、负载均衡、分布式、数据一致性的区别和联系？

### Dubbo

1. 什么是Dubbo？
2. Dubbo的基本原理、执行流程？
3. Dubbo中zookeeper做注册中心，如果注册中心集群都挂掉，发布者和订阅者之间还能通信么？
4. Dubbo服务负载均衡策略？
5. Dubbo在安全机制方面是如何解决的？
6. Dubbo连接注册中心和直连的区别
7. Dubbo服务集群配置（集群容错模式）
8. Dubbo通信协议dubbo协议为什么要消费者比提供者个数多？
9. Dubbo通信协议dubbo协议为什么不能传大包？
10. Dubbo通信协议dubbo协议为什么采用异步单一长连接？
11. Dubbo通信协议dubbo协议适用范围和适用场景？
12. 什么是RMI协议？
13. 什么是Hessian协议？

## 网络编程

### TCP

1. 三次握手和四次挥手、为什么挥手需要四次

2. 什么是TCP粘包/拆包；TCP粘包/拆包的解决办法

3. TCP的滑动窗口协议有什么用？

   发送方根据这个值和其它信息设置自己的窗口大小；将窗口字段设置为 0，则发送方不能发送数据。

4. Socket交互的基本流程？

5. 讲讲tcp协议（建连过程，慢启动，滑动窗口，七层模型）？

   ​

6. TCP如何保证数据的可靠传输的？

7. TCP、UDP 协议的区别

### HTTP

1. 什么是长连接和短连接？

   长连接只需要建立一次 TCP 连接就能进行多次 HTTP 通信。

    KeepAlive：应用层自己实现的心跳包；TCP的KeepAlive保活机制：不论是服务端还是客户端，一方开启KeepAlive功能后，就会自动在规定时间内向对方发送心跳包， 而另一方在收到心跳包后就会自动回复，以告诉对方我仍然在线。

2. HTTP协议的交互流程，HTTP和HTTPS的差异，SSL的交互流程？

   ​

   SSL（Secure Sockets Layer，安全套接层）和 TLS（Transport Layer Security，传输层安全）

3. HTTP协议都有哪些方法？

   GET;POST;HEAD;PUT;PATCH;DELETE;CONNECT

4. 各种协议与HTTP协议之间的关系

5. webservice协议（wsdl/soap格式，与restt办议的区别）？

### 其他

1. 从游览器中输入URL到页面加载的发生了什么？
2. 说说Netty线程模型，什么是零拷贝？
3. DNS解析过程？
4. 简单介绍一下 Linux 文件系统？
5. 一些常见的 Linux 命令了解吗？

## 微服务

### SpringBoot

1. 什么是Spring Boot ?
2. Spring Boot有哪些优点？
3. Spring Boot中的监视器是什么？
4. 如何实现Spring Boot应用程序的安全性？
5. 如何集成Spring Boot和ActiveMQ ?
6. 如何监视所有Spring Boot微服务？
7. 如何使用Spring Boot实现异常处理？
8. 什么是Spring Boot？
9. Spring Boot有哪些优点？
10. 什么是JavaConfig？
11. 如何重新加载Spring Boot上的更改，而无需重新启动服务器？
12. Spring Boot中的监视器是什么？
13. 如何在Spring Boot中禁用Actuator端点安全性？
14. 如何在自定义端口上运行Spring Boot应用程序？
15. 什么是YAML？
16. 如何实现Spring Boot应用程序的安全性？
17. 如何集成Spring Boot和ActiveMQ？
18. 如何使用Spring Boot实现分页和排序？
19. 什么是Swagger？你用Spring Boot实现了它吗？
20. 什么是Spring Profiles？
21. 什么是Spring Batch？
22. 什么是FreeMarker模板？
23. 如何使用Spring Boot实现异常处理？
24. 您使用了哪些starter maven依赖项？
25. 什么是CSRF攻击？什么是WebSockets？
26. 什么是Apache Kafka？
27. 我们如何监视所有Spring Boot微服务？

### Spring Cloud

1. 什么是Spring Cloud ?
2. 使用Spring Cloud有什么优势？
3. 服务注册和发现是什么意思？Spring Cloud如何实现？
4. 什么是负载均衡？
5. 负载平衡的意义什么？
6. 什么是Hvstrix ?它如何实现容错？
7. 讲讲Hvstrix断路器?
8. 什么是Spring Cloud？
9. 使用Spring Cloud有什么优势？
10. 服务注册和发现是什么意思？Spring Cloud如何实现？
11. 什么是Netflix Feign？它的优点是什么？
12. 什么是Spring Cloud Bus？

## 面试表现

软实力主要就是指平时在语言沟通、逻辑思维、面试的积极性和主动性、简历的优化技巧等方便。通过软实力来突出自己的优势，与硬实力的结合，才是你自己真正的实力体现。

**沟通和逻辑思维能力：**对一个问题的表达方式，逻辑思维（像有些人的发言就让人听上去很有层次感，很舒服），沟通的层次感，善于短时间突出重点。

**面试的积极性和主动性：**尤其是BAT，特别喜欢主动性和积极性的人才，主动性的人更加擅长于克服当前的困难，并把事情做好，在遇到挫折后，更容易调整好心态，且积极去推进项目。这一点，在面试的沟通过程中，有经验的BAT面试官可以通过与你的交流细节，可以捕获到部分你的性格优势和劣势。总之，主动性和乐观性的人，更有利于今后的发展，这一点不仅仅适用于面试，更适用于今后的工作发展。

**简历的准备：**简历重点是突出自我介绍、擅长技能、项目经验。自我介绍要做到一句话就能表述清楚自己的优势，比如：学习能力(短时间熟练掌握技能)、个人履历(BAT背景优势)、积极努力(个人推动什么项目等)。

**擅长技能：**专业技能的描述词无非就那么几种：精通、熟练、熟悉、了解。精通感觉一般还是不要写，除非你在某个技术点上真的有足够的把握，真正能做到精通一门语言、一个分布式框架这才是精通。熟悉、熟练居多、精通是典型的金字塔顶部。总之，简历不要过于突出精通项数，而是突出精通的领域。

**项目经验：**突出自己的王牌项目，最有技术含量、挑战和帮助最大一个项目讲就足够了，面试的过程中面试官也会重点让你描述这个擅长的项目，提前模拟这个项目的讲解顺序和重点，而不是临场讲解。

**做一个靠谱且有责任心的人：**很多公司在内部的面试细则上面都会注明这一点，如果价值观或是人品问题会直接否决。没有一个面试官不想找一个技术出众又有责任心的人，请相信我，责任心非常重要，更有利于今后的晋升。

最后，在你通过了硬实力和软实力的考核后，剩下的就是缘分了，你的面试气场与BAT面试官的匹配度，每一个面试官都希望找到与自己类似的求职人才，这也许就是闻味吧。

**面试准备**

不论是校招还是社招都避免不了各种面试、笔试，如何去准备这些东西就显得格外重要。 运筹帷幄之后，决胜千里之外！不打毫无准备的仗，我觉得大家可以先从下面几个方面来准备面试：

1. **自我介绍。（介绍自己的项目经历以及一些特长而不是简单自我介绍喜好等）**
2. **自己面试中可能涉及哪些知识点、那些知识点是重点。**
3. **面试中哪些问题会被经常问到、面试中自己改如何回答。**
4. **自己的简历该如何写。**

**“80%的oﬀer掌握在20%的人手中”** 这句话也不是不无道理的。决定你面试能否成功的因素中实力固然占有很大一部 分比例，但是如果你的心态或者说运气不好的话，依然无法拿到满意的 oﬀer。运气暂且不谈，就拿心态来说，千万 不要因为面试失败而气馁或者说怀疑自己的能力，面试失败之后多总结一下失败的原因，后面你就会发现自己会越来 越强大。

另外，大家要明确的很重要的几点是：

1. **写在简历上的东西一定要慎重，这可能是面试官大量提问的地方；**
2. **将自己的项目经历完美的展示出来非常重要。**