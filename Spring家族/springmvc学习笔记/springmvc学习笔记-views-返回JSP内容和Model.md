# springmvc学习笔记-views

# 第一节

## Controller

```
@Controller
@RequestMapping("/views/*")
public class ViewsController {

	@GetMapping("html")
	public String prepare(Model model) {
		model.addAttribute("foo", "bar");
		model.addAttribute("fruit", "apple");
		return "views/html";
	}
	
	@GetMapping("/viewName")
	public void usingRequestToViewNameTranslator(Model model) {
		model.addAttribute("foo", "bar");
		model.addAttribute("fruit", "apple");
	}
}
```

类中的@RequestMapping("/views/*")表示匹配URI /views/ + 任意名，因此拼接后的结果是/views/html和html/viewName。

Model：

## Views

```
<li>
	<a href="<c:url value="/views/html" />">HTML generated by JSP template</a>
</li>
<li>
	<a href="<c:url value="/views/viewName" />">DefaultRequestToViewNameTranslator convention</a>
</li>
```

# 第二节

## Controller

```
@GetMapping("pathVariables/{foo}/{fruit}")
public String pathVars(@PathVariable String foo, @PathVariable String fruit) {
	// No need to add @PathVariables "foo" and "fruit" to the model
	// They will be merged in the model before rendering
	return "views/html";
}

@GetMapping("dataBinding/{foo}/{fruit}")
public String dataBinding(@Valid JavaBean javaBean, Model model) {
	// JavaBean "foo" and "fruit" properties populated from URI variables 
	return "views/dataBinding";
}
```

如注释描述的，不需要把foo和fruit放入model，它在返回views/html.jsp页面渲染之前，会自动合并。

@Valid 对JavaBean javaBean进行校验。

## Views

home.jsp

```
<li>
	<a href="<c:url value="/views/pathVariables/bar/apple" />">Using path variables in a view template</a>
</li>
<li>
	<a href="<c:url value="/views/dataBinding/bar/apple" />">Data binding with URI variables</a>
</li>
```

views/html.jsp 和views/dataBinding.jsp

```
<body>
<div class="success">
	<h3>foo: "${foo}"</h3>
	<h3>fruit: "${fruit}"</h3>
</div>
</body>
```
